# 问题及实现思路

## 组件运行时，重构时，都需要向每个运行组件的core，下发邻居部署信息。

考虑到两个流程具有相似性，拟采用统一流程实现。

master提供下发部署信息的接口，master根据driver上报信息，生成部署信息

master调用agent提供的部署信息grpc，下发部署信息。

agent向影子设备控制器下发部署信息。

因此，重构分两步：

* 下发参数

* 下发部署信息

## master提供创建任务同步接口

细粒度查询方式，可结合下发部署信息功能实现。

gyl
#2.0   11月完成
## 1 部署加入标签参数
原始需求：        在部署时，才指定组件的部署位置信息
解决方案建议： 是通过部署的时候下发标签信息替代原始标签信息。
## 2 增加节点管理类型代理，节点管理上报的状态在前端需要显示，节点管理芯片有对应的控制页面
原始需求：      对频综、电源、风扇等非处理单元进行控制并周期上报这些单元的状态。
解决方案建议：特殊的节点管理agent，实现频综、电源、风扇等单元的控制，同时实现模块的固件更新功能；虽然这些功能特殊需求如控制频综、电压等非通用需求，但是jdc目前特殊需求不多，如果界面有状态显示及定制化的控制页面最好，这样可以作为rtframe综合化产品定制化修改的示例。
## 3 芯片状态上报，类型多
原始需求：      周期上报芯片状态，并显示。
解决方案建议：无
存在问题:        处理节点和非处理节点都有各种状态上报，且这些状态后期可能会增减，那么该如何做才能支持扩展？ 比如通过芯片状态配置表，在配置表中有的状态就在界面中显示，并按照阈值报警。

## 4 部署信息下发到各个核，局部重构后，下发部署变化信息到各个核，下发部署信息到重构后的核。

## 5 日志存储上报
原始需求：       前端或者池监控下发的控制命令日志、执行命令的结果日志、用户功能日志存储及查找。
解决方案建议： 无
存在问题：       日志分3类：操作日志，日志的存储及搜索查找

## 6 硬件标签只能下拉，不能直接填写
原始需求：        标签存在误填，或者被不熟悉的人误改
解决方案建议：  增加标签表，标签只能在标签表范围内，通过下拉菜单选择。
存在问题：         还是不能解决修改权限问题

## 7  芯片列表增加芯片id列表，并增加型号及芯片类型栏。
原始需求：   这个是高逸龙提出的，在芯片列表没有芯片唯一标识芯片id，使用上有不方便。


# 3.0  2022年2月完成
## 1 rtframe 高可用



